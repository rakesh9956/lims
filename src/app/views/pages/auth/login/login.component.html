<div class="row w-100 mx-0 auth-page">
  <div class="col-md-8 col-xl-6 mx-auto">
    <div class="card">
      <div class="row">
        <div class="col-md-4 pe-md-0">
          <div class="auth-side-wrapper"
            [ngStyle]="{ 'background-image': 'url(https://envato-shoebox-0.imgix.net/74ba/3a90-2bd9-40aa-b98a-0a59bed5a2a8/1684826.jpg?auto=compress%2Cformat&fit=max&mark=https%3A%2F%2Felements-assets.envato.com%2Fstatic%2Fwatermark2.png&markalign=center%2Cmiddle&markalpha=18&w=900&s=0b54183e4f255df22111b20670158bf8)' }">

          </div>
        </div>
        <div class="col-md-8 ps-md-0">
          <div class="auth-form-wrapper px-4 py-5">
            <a routerLink="." class="nobleui-logo d-block mb-2">Yoda <span>Stores Module</span></a>
            <h5 class="text-muted fw-normal mb-4">Welcome back! Log in to your account.</h5>

            <form class="forms-sample" [formGroup]="loginForm">
              <div class="mb-3">
                <label class="label-title" for="username">Email<span
                    [ngClass]="{'text-danger': f['userName'].value.length == 0}"> *</span></label>
                <input type="email" class="form-control" id="email" placeholder="Enter your email"
                  formControlName="userName" maxlength="40"
                  [ngClass]="(loginForm.get('userName')?.hasError('required')) && (loginForm.get('userName')?.touched )||(!loginForm.get('userName')?.touched && submitted)?'is-invalid': ''">
                <!-- <div class="invalid-feedback">                -->
                <!-- <ng-container
                    *ngIf="loginForm.get('userName')?.invalid && !loginForm.get('userName')?.hasError('required')">
                    Email must be a valid email address!
                  </ng-container> -->
                  <span class="text-danger"
                  *ngIf="loginForm.get('userName')?.invalid && !loginForm.get('userName')?.hasError('required')">
                  Enter valid  email address!
              </span>
              <span class="text-danger position-absolute"
                    *ngIf="loginForm.get('userName')?.hasError('required') && loginForm.get('userName')?.touched">
                    Email is required!
                  </span>
                  <span class="text-danger position-absolute"
                    *ngIf="loginForm.get('userName')?.hasError('required') && !loginForm.get('userName')?.touched && submitted">
                    Email is required!
                  </span>
                <!-- </div> -->
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">Password<span
                  [ngClass]="{'text-danger': f['password'].value.length == 0}"> *</span></label>
                <div class="password-visibility-block position-relative">
                  <input [type]="isVisible ? 'text' : 'password'" class="form-control"   id="" autocomplete="password"
                    placeholder="Enter password" formControlName="password"    minlength="8" maxlength="16" 
                    [ngClass]="(loginForm.get('password')?.hasError('required'))&& loginForm.get('password')?.touched || (!loginForm.get('password')?.touched && submitted) ?'is-invalid': ''">
                  <!-- <div class="invalid-feedback"> -->
                    <!-- <span
                      *ngIf="loginForm.get('password')?.invalid && !loginForm.get('password')?.hasError('required')">
                      Password is required! 
                    </span> -->
                    <div *ngIf="f['password'].errors?.minlength" class="text-danger mt-4px d-block">
                      Password must be at least 8 characters!
                   </div>
                   <span class="text-danger mt-4px d-block"
                       *ngIf="loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched">
                      Password is required! 
                  </span> 
                  <span class="text-danger mt-4px d-block"
                       *ngIf="loginForm.get('password')?.hasError('required') &&  !loginForm.get('password')?.touched && submitted">
                      Password is required!  
                </span> 
               <!-- </div> -->
               <span class="text-danger" *ngIf="IsShown">{{LoginErrorMsg=='Invalid auth type !'?'User does not exists!':LoginErrorMsg}}</span>
                  <button class="btn password-visibility-icon" type="button" (click)="togglePasswordVisibility()">
                    <ng-container *ngIf="isVisible; else isNotVisible">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="none" d="M0 0h24v24H0z" />
                        <path
                          d="M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"
                          fill="rgba(143,143,143,1)" />
                      </svg>
                    </ng-container>
                    <ng-template #isNotVisible>
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="none" d="M0 0h24v24H0z" />
                        <path
                          d="M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978l-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264l-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084a4.5 4.5 0 0 1 4.769 4.769l-4.77-4.769z"
                          fill="rgba(143,143,143,1)" />
                      </svg>
                    </ng-template>
                  </button>
                </div>
              </div>
            
              <!-- <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="authCheck">
                <label class="form-check-label" for="authCheck">
                  Remember me
                </label>
              </div> -->
              <div>
                <button type="submit" class="btn btn-primary me-2 mb-2 mb-md-0" [disabled]="loginForm.invalid" (click)="onLoggedin()">Login</button>
              </div>
              <a routerLink="/auth/forgot-password" class="d-inline-block mt-3 text-muted">Forgot Password?</a>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>